{% extends 'base.html' %}

{% block content %}
  <h2>{{ concept.title }}</h2>
  <p>{{ concept.description }}</p>

  <hr>
  <form method="post">
    {% csrf_token %}
    <label for="question">ã“ã®æ¦‚å¿µã«è³ªå•ã™ã‚‹:</label><br>
    <textarea name="question" rows="3" cols="60" placeholder="ä¾‹ï¼šã‚ãªãŸã®ä¾¡å€¤è¦³ã¯ï¼Ÿãªã©"></textarea><br><br>
    <button type="submit">è³ªå•ã™ã‚‹</button>
  </form>

  {% if response %}
    <hr>
    <h3>ğŸ§  æ¦‚å¿µã‹ã‚‰ã®å›ç­”:</h3>
    <div style="white-space: pre-line; background-color: #f0f0f0; padding: 1em; border-radius: 8px;">
      {{ response }}
    </div>
  {% endif %}

  <h3>éå»ã®ã‚„ã‚Šå–ã‚Š</h3>
  <ul>
    {% for chat in chats %}
      <li>
        <strong>Q:</strong> {{ chat.question }}<br>
        <strong>A:</strong> {{ chat.answer }}<br>
        <em>{{ chat.created_at|date:"Y/m/d H:i" }}</em>
      </li>
    {% empty %}
      <li>ã¾ã ã‚„ã‚Šå–ã‚ŠãŒã‚ã‚Šã¾ã›ã‚“ã€‚</li>
    {% endfor %}
  </ul>

  <p><a href="{% url 'list_concepts' %}">â† æ¦‚å¿µä¸€è¦§ã«æˆ»ã‚‹</a></p>
{% endblock %}
